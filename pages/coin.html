

    <!-- Left side bar
    ================================================== -->
    <div class="row">


        <div class="span3 bs-docs-sidebar">
          <div class="bs-docs-sidenav affix">
          <aside>
            <div class="widget">
              <h5 class="heading-success">
                <span class="btn btn-mini ">
                  <img id="coin-logo" src="" class="" alt="" />
                </span>&nbsp;
                <span id="coin-title"></span>
              </h5>
              <ul class="arrow">
                <li><a id="link-website" href="#" target="_blank"><span class="icon-globe"></span> Website</a></li>
                <li><a id="link-explorer" href="#" target="_blank"><span class="icon-search"></span> Explorer</a>
                <a id="link-explorer2" href="#" target="_blank"> 2 </a>
                <a id="link-explorer3" href="#" target="_blank"> 3 <a>
                </li>
                <li><a id="link-announcement" href="#" target="_blank"><span class="icon-flag"></span> Announcement</a></li>
                <li><a id="link-sourceCode" href="#" target="_blank"><span class="icon-inbox"></span> Source Code</a></li>
                <li><a id="link-chat" href="#" target="_blank"><span class="icon-comment"></span> Chat </a>
                <a id="link-chat2" href="#" target="_blank"> 2 </a>
                <a id="link-chat3" href="#" target="_blank"> 3 </a>
                <a id="link-chat3" href="#" target="_blank"> 4 </a>
                </li>
                <li><a id="link-whitepaper" href="#" target="_blank"><span class="icon-list-alt"></span> Whitepaper</a></li>
              </ul>
              <ul id="myTab" class="nav nav-tabs">
              </ul>
               <div>
                <div id="coin-price"><span class="icon-bookmark"></span> <strong>Price:</strong> <span class="coin-param"></span></div>
                <div id="coin-change_24"><span class="icon-indent-left"></span> <strong>Change (24h):</strong> <span class="coin-param"></span></div>
                <div id="coin-marcetcap"><span class="icon-globe"></span> <strong>MarcetCap:</strong> <span class="coin-param"></span></div>
                <div id="coin-volume_24"><span class="icon-refresh"></span> <strong>Volume (24h):</strong> <span class="coin-param"></span></div>
                <div id="coin-chainage"><span class="icon-time"></span> <strong>ChainAge:</strong> <span class="coin-param"></span></div>
                <div id="coin-block"><span class="icon-th"></span> <strong>Block:</strong> <span class="coin-param"></span></div>
                <div id="coin-txs"><span class="icon-list"></span> <strong>Txs:</strong> <span class="coin-param"></span></div>
              </div>
              <br>
              <div>
                <div id="coin-type"><strong>Asset Type:</strong> <span class="label label-warning"><span class="coin-param"></span></span></div>
                <div id="coin-mineable"><strong>Mineable:</strong> <span class="label label-success"><span class="coin-param"></span></span></div>
                <div id="coin-masternode"><strong>Masternode:</strong> <span class="label label-success"><span class="coin-param"></span></span></div>
                <div id="coin-firstBlock"><strong>First Block:</strong> <span class="coin-param"></span></div>
                <div id="coin-algorithm"><strong>Algorithm:</strong> <span class="coin-param"></span></div>
                <div id="coin-blockTime"><strong>Block Time (s):</strong> <span class="coin-param"></span></div>
                <div id="coin-blockSize"><strong>Block Size (MB):</strong> <span class="coin-param"></span></div>
                <div id="coin-maxSupply"><strong>Max Supply:</strong> <span class="coin-param"></span></div>
                <div id="coin-walletPrefix"><strong>Wallet Prefix:</strong> <span class="coin-param"></span></div>
                <div id="coin-networkPort"><strong>Network Port:</strong> <span class="coin-param"></span></div>
                <div id="coin-rpcPort"><strong>RPC Port:</strong> <span class="coin-param"></span></div>
                <div id="coin-developerFee"><strong>Developer Fee:</strong> <span class="coin-param"></span></div>
              </div>
            </div>
              <div>
          </aside>
        </div>
        </div>

      <div class="span6">

        <!-- Price
        ================================================== -->
        <section id="assetPrice" class="doc">
          <div class="page-header">
            <h3>Price (USD)</h3>
          </div>

          <div id="charts" class="tab-pane active">
            <div class="padding-top-1x">
              <div id="highcharts-nodata" class="hidden text-center">No chart data found</div>
            </div>
            <div id="highcharts-graph-price" style="height: 400px; min-width: 310px"></div>
            <br>
          </div>
        </section>


        <!-- MarketCap
        ================================================== -->
        <section id="assetMarketCap" class="doc">
          <div class="page-header">
            <h3>MarketCap (USD)</h3>
          </div>

          <div id="charts" class="tab-pane active">
            <div class="padding-top-1x">
              <div id="highcharts-nodata" class="hidden text-center">No chart data found</div>
            </div>
            <div id="highcharts-graph-marketcap" style="height: 400px; min-width: 310px"></div>
            <br>
          </div>
        </section>

        <!-- Volume
        ================================================== -->
        <section id="assetVolume" class="doc">
          <div class="page-header">
            <h3>Volume (USD)</h3>
          </div>

         <div id="charts" class="tab-pane active">
            <div class="padding-top-1x">
              <div id="highcharts-nodata" class="hidden text-center">No chart data found</div>
            </div>
            <div id="highcharts-graph-volume" style="height: 400px; min-width: 310px"></div>
            <br>
          </div>
        </section>

        <!-- Blocks
        ================================================== -->
        <section id="assetBlocks" class="doc">
          <div class="page-header">
            <h3>Blocks (24h)</h3>
          </div>

          <div class="charts opaque-nav" style="padding-bottom: 0px">

            <div class="" style="text-align:center;margin: 20px 0px 0px;padding:0px;max-width:none;">
                <div data-unit="Blocks" data-period="day" style="width:100%;position:relative;" id="graph_blocks"></div>
                <div class="row" id="charterror_blocks" style="display:none;">
                    <div class="span4 offset4 alert alert-error text-center" style="margin:0 auto;float:none;">Error loading chart data</div>
                </div>
                <div class="row" id="chartloading_blocks">
                    <div class="span4 offset4" style="margin:0 auto;float:none;"><img src="/charts/assets/loading-large.gif" alt="Loading..." height=50 width=50/></div>
                </div>
            </div>

          </div>
        </section>

        <!-- Transactions
        ================================================== -->
        <section id="assetTransactions" class="doc">
          <div class="page-header">
            <h3>Transactions (24h)<small></small></h3>
          </div>

          <div class="charts opaque-nav" style="padding-bottom: 0px">

            <div class="" style="text-align:center;margin: 20px 0px 0px;padding:0px;max-width:none;">
                <div data-unit="Transactions" data-period="day" style="width:100%;position:relative;" id="graph_transactions"></div>
                <div class="row" id="charterror_transactions" style="display:none;">
                    <div class="span4 offset4 alert alert-error text-center" style="margin:0 auto;float:none;">Error loading chart data</div>
                </div>
                <div class="row" id="chartloading_transactions">
                    <div class="span4 offset4" style="margin:0 auto;float:none;"><img src="/charts/assets/loading-large.gif" alt="Loading..." height=50 width=50/></div>
                </div>
            </div>

          </div>
        </section>



        <!-- Difficulty
        ================================================== -->
        <section id="assetDifficulty" class="doc">
          <div class="page-header">
            <h3>Difficulty (24h)</h3>
          </div>

          <div class="charts opaque-nav" style="padding-bottom: 0px">

            <div class="" style="text-align:center;margin: 20px 0px 0px;padding:0px;max-width:none;">
                <div data-unit="Difficulty" data-period="day" style="width:100%;position:relative;" id="graph_difficulty"></div>
                <div class="row" id="charterror_difficulty" style="display:none;">
                    <div class="span4 offset4 alert alert-error text-center" style="margin:0 auto;float:none;">Error loading chart data</div>
                </div>
                <div class="row" id="chartloading_difficulty">
                    <div class="span4 offset4" style="margin:0 auto;float:none;"><img src="/charts/assets/loading-large.gif" alt="Loading..." height=50 width=50/></div>
                </div>
            </div>

          </div>
        </section>

        <!-- About Asset
        ================================================== -->
        <section id="aboutAsset" class="doc">
          <div class="page-header">
            <h3>About Asset</h3>
          </div>
          <div id="page-description"></div>
        </section>


        <!-- Supply
        ================================================== 
        <section id="assetSupply" class="doc">
          <div class="page-header">
            <h3>Supply (24h)</h3>
          </div>

          <div class="charts opaque-nav" style="padding-bottom: 0px">

            <div class="" style="text-align:center;margin: 20px 0px 0px;padding:0px;max-width:none;">
                <div data-unit="Supply" data-period="day" style="width:100%;position:relative;" id="graph_supply"></div>
                <div class="row" id="charterror_supply" style="display:none;">
                    <div class="span4 offset4 alert alert-error text-center" style="margin:0 auto;float:none;">Error loading chart data</div>
                </div>
                <div class="row" id="chartloading_supply">
                    <div class="span4 offset4" style="margin:0 auto;float:none;"><img src="/charts/assets/loading-large.gif" alt="Loading..." height=50 width=50/></div>
                </div>
            </div>

          </div>
        </section>
        -->

        <!-- Network Peers
        ==================================================
        <section id="assetNetworkPeers" class="doc">
          <div class="page-header">
            <h3>Network Peers</small></h3>
          </div>

          <div class="charts opaque-nav" style="padding-bottom: 0px">

            <div class="" style="text-align:center;margin: 20px 0px 0px;padding:0px;max-width:none;">
                <div data-unit="Difficulty" data-period="day" style="width:100%;position:relative;" id="graph_container2"></div>
                <div class="row" id="charterror2" style="display:none;">
                    <div class="span4 offset4 alert alert-error text-center" style="margin:0 auto;float:none;">Error loading chart data</div>
                </div>
                <div class="row" id="chartloading2">
                    <div class="span4 offset4" style="margin:0 auto;float:none;"><img src="/charts/assets/loading-large.gif" alt="Loading..." height=50 width=50/></div>
                </div>
            </div>

          </div>
        </section>
	-->

      </div>

      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
          <li><a href="#assetPrice"><i class="icon-chevron-right"></i> Price</a></li>
          <li><a href="#assetMarketCap"><i class="icon-chevron-right"></i> MarketCap</a></li>
          <li><a href="#assetVolume"><i class="icon-chevron-right"></i> Volume</a></li>
          <li><a href="#assetBlocks"><i class="icon-chevron-right"></i> Blocks</a></li>
          <li><a href="#assetTransactions"><i class="icon-chevron-right"></i> Transactions</a></li>
          <li><a href="#assetDifficulty"><i class="icon-chevron-right"></i> Difficulty</a></li>
	        <li><a href="#aboutAsset"><i class="icon-chevron-right"></i> About</a></li>
          <!--<li><a href="#assetSupply"><i class="icon-chevron-right"></i> Supply</a></li>
          <li><a href="#assetNetworkPeers"><i class="icon-chevron-right"></i> Network Peers</a></li>-->
        </ul>
      </div>

    </div> <!--row-->

<script type="text/javascript">
  function highlightTimespan(timespan,id) {
    if (!timespan) {
      if ($('#graph_'+id).data('period') == 'minute') timespan = '60days';
      else timespan = '1year'
    }
    
    $('.' + timespan).removeClass('btn-secondary').addClass('btn-primary')
                           .find('span').removeClass('primary').addClass('white');
  }

  function setData(raw, id) {
      var data = [];
      try {
          var logScale = parseInt(qs('scale'));
          for (var i = 0; i < raw['values'].length; i++) {
              raw['values'][i]['y'] = parseFloat(raw['values'][i]['y']);
              if (logScale == 1 && raw['values'][i]['y'] < 0.00001) {
                  raw['values'][i]['y'] = 0.00001;
              }

              data.push([
                  raw['values'][i]['x'] * 1000,
                  raw['values'][i]['y']
              ]);
          }

          if ($('#graph_'+id).data('period') == 'minute') {
              $('#periodminute').show();
          } else {
              $('#periodnormal').show();
          }

          var timespan = qs('timespan');
          highlightTimespan(timespan,id);

          setup(data,id);
      } catch (e) {
          fail(e,id);
      }
  }


  var coin = getUrlParamByName('coin');

  var url_json = "/apidata/"+coin;
  var url_logo = "/assets/coins-logo/";

  replaceText(id('coin-title'), coin);

  $.ajax(
  {
    url: url_json+"/assetInfo.json", 

    success: function(json)
    {
      json = json[0];

      var title = json['assetName'] + ' (' + json['assetTicker'] + ')';

      $("#coin-logo").attr("src", url_logo + json['assetName'] + '.png');
      replaceText(id('coin-title'), title);
      replaceText(id('page-description'), json['about']);
      $("#link-website").attr("href", json['website']);
      $("#link-explorer").attr("href", json['explorer']);
      $("#link-explorer2").attr("href", json['explorer2']);
      $("#link-explorer3").attr("href", json['explorer3']);      
      $("#link-announcement").attr("href", json['bitcointalkThread']);
      $("#link-sourceCode").attr("href", json['sourceCode']);
      $("#link-chat").attr("href", json['chat']);
      $("#link-chat2").attr("href", json['twitter']);
      $("#link-chat3").attr("href", json['telegram']);
      $("#link-chat3").attr("href", json['reddit']);
      $("#link-chat4").attr("href", json['chatother']);
      $("#link-whitepaper").attr("href", json['whitepaper']);

      $("#coin-type").find('.coin-param').text(json['assetType']);
      $("#coin-mineable").find('.coin-param').text(json['mineable']);
      $("#coin-blockTime").find('.coin-param').text(json['blockTime']);
      $("#coin-blockSize").find('.coin-param').text(json['blockSize']);
      $("#coin-maxSupply").find('.coin-param').text(json['maxSupply']);
      $("#coin-walletPrefix").find('.coin-param').text(json['walletPrefix']);
      $("#coin-networkPort").find('.coin-param').text(json['networkPort']);
      $("#coin-rpcPort").find('.coin-param').text(json['rpcPort']);
      $("#coin-developerFee").find('.coin-param').text(json['developerFee']);
      var firstBlock = new Date(json['firstBlock']*1000);
      $("#coin-firstBlock").find('.coin-param').text(firstBlock.toDateString());
      $("#coin-algorithm").find('.coin-param').text(json['algorithm']);
      $("#coin-masternode").find('.coin-param').text(json['masternode']);
    }
  });

  $.ajax(
  {
    url: "/apidata/homePageAssetList.json", 

    success: function(json)
    {
      $.each(json, function(i, item) {
          if(item['assetTicker'] !== coin)
            return true;

          $("#coin-price").find('.coin-param').text('$'+item['current_price']);

      // Add + sign for Price change if value is greater than > 0

            // Format *price_change_percentage_24h* value to see in nice shape.
            var stylePrice_change_percentage_24h = ''
            
                if (item['price_change_percentage_24h'] < 0)
                    stylePrice_change_percentage_24h = 'red' 
                else
                    stylePrice_change_percentage_24h = 'green';
      // At first reformat the number after decimal, later one add + sign if needed, otherwise first formatting ignores seconds one
            var price_change_percentage_24h_formated1 = parseFloat(item['price_change_percentage_24h']).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');

      var reformated_price_change_percentage_24h = ''

                if (price_change_percentage_24h_formated1 > 0)
                    reformated_price_change_percentage_24h = '+' + price_change_percentage_24h_formated1
                else
                    reformated_price_change_percentage_24h = price_change_percentage_24h_formated1

      var price_change_percentage_24h_formated2 = '<font color="' + stylePrice_change_percentage_24h + '">' +  
            reformated_price_change_percentage_24h + '%' + '</font>';
          $("#coin-change_24").find('.coin-param').html(price_change_percentage_24h_formated2);

          // Format *market_cap* value to see in nice shape
          var market_cap_formated = '$' + parseFloat(item['market_cap']).toFixed(1).replace(/\d(?=(\d{3})+\.)/g, '$&,');
          market_cap_formated = market_cap_formated.substring(0, market_cap_formated.length-2);
          $("#coin-marcetcap").find('.coin-param').text(market_cap_formated);

          // Format *total_volume* value to see in nice shape
            var total_volume_formated = '$' + parseFloat(item['total_volume']).toFixed(1).replace(/\d(?=(\d{3})+\.)/g, '$&,');
            total_volume_formated = total_volume_formated.substring(0, total_volume_formated.length-2);
          $("#coin-volume_24").find('.coin-param').text(total_volume_formated);

          var blockchainAge = parseFloat(item['blockchainAge'] / 2628002.88).toFixed(1) + ' mos'; // Converted seconds to months
          $("#coin-chainage").find('.coin-param').text(blockchainAge);

          // Format *block* value to see in nice shape
          var blocks_formated = parseFloat(item['block']).toFixed(1).replace(/\d(?=(\d{3})+\.)/g, '$&,');
          blocks_formated = blocks_formated.substring(0, blocks_formated.length-2);
          $("#coin-block").find('.coin-param').text(blocks_formated);

          $("#coin-txs").find('.coin-param').text(item['nTx']);

          return false;
      });
    }
  });


  $(document).ready(function() {

      addEventListeners();

      //var supply_url = url_json+'/assetSupply.json';

      //ajaxCall(supply_url, setData, undefined, 'supply');

  });
</script>

<script type="text/javascript">

$(document).ready(function() {
  stockChart(url_json+'/assetPrice.json', 'highcharts-graph-price', {'name':'Price (USD)','valueDecimals':8});

  var scroll_pos = 0;
  $(document).scroll(function() {
    scroll_pos = $(this).scrollTop();
    function scroll_el_start(el,n=1) {
      return $(el).offset().top-$(el).height()*n;//-$(el).height()/2;
    }
    function scroll_el_end(el) {
      return $(el).offset().top + $(el).height();
    }
    function scroll_el_no_start_showing(el) {
      return scroll_pos < scroll_el_start(el);
    }
    function scroll_el_showing(el) {
      return scroll_pos > scroll_el_start(el) && scroll_pos < scroll_el_end(el);
    }
    function scroll_el_passed(el) {
      return scroll_pos > scroll_el_end(el);
    }
    /*if (scroll_el_no_start_showing('#assetVolume')) {
      alert("Not start showing");
    }
    if (scroll_el_showing('#assetVolume')) {
      alert("Showing");
    }
    if (scroll_el_passed('#assetVolume')) {
      alert("Passed");
    }*/
    var marketcap_url = url_json+'/assetMarketCap.json';
    
    var volume_url = url_json+'/assetVolume.json';

    var blocks_url = url_json+'/assetBlocks.json';

    var difficulty_url = url_json+'/assetDifficulty.json';

    var transactions_url = url_json+'/assetTransactions.json';

    if (scroll_el_showing('#assetMarketCap')) {
      if(!$('#highcharts-graph-marketcap').data('highcharts-chart'))
        stockChart(marketcap_url, 'highcharts-graph-marketcap', {'name':'MarketCap (USD)','valueDecimals':0});
    }
    if (scroll_el_showing('#assetVolume')) {
      if(!$('#highcharts-graph-volume').data('highcharts-chart'))
        stockChart(volume_url, 'highcharts-graph-volume', {'name':'Volume (USD)','valueDecimals':0});
    }
    if (scroll_el_showing('#assetBlocks'),1) {
      if(!$('#graph_blocks').data('highcharts-chart'))
        ajaxCall(blocks_url, setData, undefined, 'blocks');
    }
    if (scroll_el_showing('#assetTransactions'),1) {
      if(!$('#graph_transactions').data('highcharts-chart'))
        ajaxCall(transactions_url, setData, undefined, 'transactions');
    }
    if (scroll_el_showing('#assetDifficulty'),1) {
      if(!$('#graph_difficulty').data('highcharts-chart'))
        ajaxCall(difficulty_url, setData, undefined, 'difficulty');
    }
  });
});

</script>
